## 7.2 设计游戏

在开始编写 Hangman 游戏之前，先考虑一下游戏的结果。我们需要程序做以下一些事情：

1. 挑选一个随机单词
2. 接收玩家猜测的字幕
3. 如果玩家需要，可以退出游戏
4. 判断玩家猜测的字幕是否正确
5. 记录玩家已经猜测过的字母
6. 向玩家展示进度
7. 当玩家猜对了单词，结束游戏

处理第一个任务和最后一个任务，其他步骤都需要出现多次，所以我们需要使用一个循环来实现。

但是，这个简单的任务列表，并不能让我们知道什么时间需要做什么事情。为了得到一个更好的代码结构，可以使用伪代码。

### 7.2.1 使用伪代码来设计游戏

伪代码（pseudocode）是一种方便的工具，程序员经常用它来设计程序。pseudocode 的含义是“伪代码”，它是描述程序如何工作的一种方法，看上去就像是英语和代码的结合。伪代码有循环和条件，但是除此之外，一切都只是纯粹的英语。让我们看看这个游戏的伪代码

```
pick a random word

While the word has not been guessed {
	Show the player their current progress
	Get a guess from the player
	
	If the player wants to quit the game {
		Quit the game
	}
	Else If the guess is not a single letter {
		Tell the player to pick a single letter
	}
	Else {
		If the guess is in the word {
			Update the player's progress with the guess
		}
	}
}
Congratulate the player on guessing the word
```

正如你所看到的，这些都不是真的代码，没有计算机能够理解它。但是，在开始真正编写代码和处理复杂的细节（例如如何挑选一个随机单词）之前，伪代码能够让我们知道如何构造自己的程序。

### 7.2.2 记录单词的状态

可以类似于传统的 Hangman 的工作方式来记录玩家的进度：记录空格集合，当玩家猜对了字幕时，填入它们。

在游戏中，我们使用一个空白数组来存放单词中的每个字母。把这个数组命名为 answerArray，当玩家猜测的字母正确时，将字母填充到数组中。用字符串"_"表示每一个空白。

```
["_", "_", "_", "_"]
["f", "i", "s", "h"]
```

用一个变量来记录玩家还要猜测的剩余字母的数量。每次猜对了一个字母，这个变量会减一。如果它等于 0，我们就知道玩家赢了。

### 7.2.3 设计游戏的循环

在这个循环中，显示当前单词的状态是在猜测之中（即一开始所有字幕都是空白），要求玩家进行一次猜测（确保它是有效的单个字幕）；如果该字母在这个单词中，用选中的字幕来修改 answerArray 数组。

几乎所有的计算机游戏都是围绕着某种循环来构建的，这些循环往往和 Hangman 游戏中的循环具有相同的基本结构。游戏循环通常做下面这些事情：

1. 接收玩家的输入
2. 修改游戏的状态
3. 把当前的游戏状态显示给玩家

即使经常变化的游戏也遵循同样的循环，只是循环得很快。在 Hangman 游戏示例中，程序接收玩家猜测的字母，如果猜对了，修改 answerArray 数组并显示其新的状态。

一旦玩家猜对了单词中的所有字幕，就会展示这个完整的单词，并且显示玩家游戏的一条祝贺信息。



