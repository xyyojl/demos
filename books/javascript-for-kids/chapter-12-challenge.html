<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>面向对象编程-编程挑战</title>
</head>
<body>

  <script src="https://code.jquery.com/jquery-2.1.0.js"></script>

  <script>

    // 用原型定制对象
    var Car = function(x, y, speed) {
      this.x = x;
      this.y = y;
      // 添加 speed 属性
      this.speed = speed;
      // #1：在 Car 构造方法中绘制
      this.draw();
    }

    Car.prototype.draw = function() {
      var carHtml = "<img src='./images/car.png'>";

      this.carElement = $(carHtml);

      this.carElement.css({
        position: "absolute",
        left: this.x,
        top: this.y
      })

      $("body").append(this.carElement);
    }

    // 添加一个 moveRight 方法
    Car.prototype.moveRight = function(distance) {
      this.x += distance;
      // this.x += this.speed; // 使用 speed

      this.carElement.css({
        position: "absolute",
        left: this.x,
        top: this.y
      })
    }
    // 添加一个 moveLeft 方法
    Car.prototype.moveLeft = function(distance) {
      this.x -= distance;

      this.carElement.css({
        position: "absolute",
        left: this.x,
        top: this.y
      })
    }

    // 添加一个 moveUp 方法
    Car.prototype.moveUp = function(distance) {
      this.y -= distance;

      this.carElement.css({
        position: "absolute",
        left: this.x,
        top: this.y
      })
    }

    // 添加一个 moveDown 方法
    Car.prototype.moveDown = function(distance) {
      this.y += distance;

      this.carElement.css({
        position: "absolute",
        left: this.x,
        top: this.y
      })
    }


    var tesla = new Car(20, 20);
    var nissan = new Car(100, 200);

    // #3：赛车
    setInterval(function() {
      tesla.moveRight(Math.floor(Math.random() * 5));
      nissan.moveRight(Math.floor(Math.random() * 5));
    }, 30)
    
  </script>
</body>
</html>